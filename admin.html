<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Hamza Boualam</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <style>
        body {
            background-color: #f4f4f4;
            padding-top: 40px;
        }

        .card {
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>Dashboard</h1>
            <div>
                <span id="user-email" class="me-3 text-muted">Not logged in</span>
                <button id="btn-login" class="btn btn-primary">Login</button>
                <button id="btn-logout" class="btn btn-outline-danger d-none">Logout</button>
            </div>
        </div>

        <!-- Login Modal -->
        <div id="login-overlay" class="text-center" style="display:none;">
            <div class="card p-5 mx-auto" style="max-width: 400px;">
                <h3>Admin Access</h3>
                <p class="text-muted">Please sign in to manage content.</p>
                <button id="btn-google-login" class="btn btn-outline-dark">
                    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="20"
                        class="me-2">
                    Sign in with Google
                </button>
            </div>
        </div>

        <!-- Main Content (Hidden until logged in) -->
        <div id="admin-content" class="d-none">

            <ul class="nav nav-tabs mb-4" id="adminTabs">
                <li class="nav-item">
                    <a class="nav-link active" href="#" data-target="projects">Projects</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-target="experience">Experience (Timeline)</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-target="talks">Talks & Entrepreneurship</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-target="papers">Papers</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-target="music">Music/Misc</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-target="news">News</a>
                </li>
            </ul>

            <!-- Projects Form -->
            <div id="projects" class="form-section active">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Manage Projects</span>
                        <button type="button" class="btn btn-sm btn-secondary d-none" id="btn-cancel-projects">Cancel
                            Edit</button>
                    </div>
                    <div class="card-body">
                        <form id="projects-form">
                            <input type="hidden" name="docId">
                            <div class="mb-3">
                                <label class="form-label">Title</label>
                                <input type="text" class="form-control" name="title" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Image Upload</label>
                                <input type="file" class="form-control" name="imageFile" accept="image/*">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Description (Rich Text)</label>
                                <textarea class="form-control" name="description" rows="5" required
                                    placeholder="Supports HTML (<b>bold</b>, <br> breaks, etc)"></textarea>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Link (GitHub/Demo)</label>
                                <input type="url" class="form-control" name="link">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Date</label>
                                <input type="date" class="form-control" name="date">
                            </div>
                            <button type="submit" class="btn btn-success">Save Project</button>
                        </form>
                    </div>
                </div>
                <!-- List -->
                <div class="card mt-3">
                    <div class="card-header">Existing Projects</div>
                    <ul class="list-group list-group-flush" id="list-projects"></ul>
                </div>
            </div>

            <!-- Experience Form -->
            <div id="experience" class="form-section">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Manage Experience</span>
                        <button type="button" class="btn btn-sm btn-secondary d-none" id="btn-cancel-experience">Cancel
                            Edit</button>
                    </div>
                    <div class="card-body">
                        <form id="experience-form">
                            <input type="hidden" name="docId">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Title / Role</label>
                                    <input type="text" class="form-control" name="title" required
                                        placeholder="e.g. Founder at Eureka Labs">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Date Range</label>
                                    <input type="text" class="form-control" name="date" required
                                        placeholder="e.g. 2023 - 2024">
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Logo URL</label>
                                <input type="url" class="form-control" name="logo" placeholder="https://...">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Description (Rich Text/HTML)</label>
                                <textarea class="form-control" name="description" rows="5" required
                                    placeholder="You can use <b>bold</b>, <a href='#'>links</a>, or lists here."></textarea>
                                <div class="form-text">Supports HTML tags for formatting.</div>
                            </div>
                            <button type="submit" class="btn btn-success">Save Experience</button>
                        </form>
                    </div>
                </div>
                <!-- List -->
                <div class="card mt-3">
                    <div class="card-header">Existing Experience</div>
                    <ul class="list-group list-group-flush" id="list-experience"></ul>
                </div>
            </div>

            <!-- Talks Form -->
            <div id="talks" class="form-section">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Manage Talks</span>
                        <button type="button" class="btn btn-sm btn-secondary d-none" id="btn-cancel-talks">Cancel
                            Edit</button>
                    </div>
                    <div class="card-body">
                        <form id="talks-form">
                            <input type="hidden" name="docId">
                            <div class="mb-3">
                                <label class="form-label">Order (1=First, 2=Second...)</label>
                                <input type="number" class="form-control" name="order" placeholder="e.g. 1">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Title</label>
                                <input type="text" class="form-control" name="title" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Image Upload (Miniature)</label>
                                <input type="file" class="form-control" name="imageFile" accept="image/*">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Video Link</label>
                                <input type="url" class="form-control" name="link" placeholder="e.g. YouTube URL">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Description</label>
                                <textarea class="form-control" name="description" rows="3" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-success">Save Item</button>
                        </form>
                    </div>
                </div>
                <!-- List -->
                <div class="card mt-3">
                    <div class="card-header">Existing Talks</div>
                    <ul class="list-group list-group-flush" id="list-talks"></ul>
                </div>
            </div>

            <!-- Papers Form -->
            <div id="papers" class="form-section">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Manage Papers</span>
                        <button type="button" class="btn btn-sm btn-secondary d-none" id="btn-cancel-papers">Cancel
                            Edit</button>
                    </div>
                    <div class="card-body">
                        <form id="papers-form">
                            <input type="hidden" name="docId">
                            <div class="mb-3">
                                <label class="form-label">Title</label>
                                <input type="text" class="form-control" name="title" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Authors</label>
                                <input type="text" class="form-control" name="authors"
                                    placeholder="e.g. H. Boualam, A. Other">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Venue (Conference/Journal)</label>
                                <input type="text" class="form-control" name="venue">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Link (PDF/DOI)</label>
                                <input type="url" class="form-control" name="link">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Year/Date</label>
                                <input type="text" class="form-control" name="date" placeholder="2023">
                            </div>
                            <button type="submit" class="btn btn-success">Save Paper</button>
                        </form>
                    </div>
                </div>
                <!-- List -->
                <div class="card mt-3">
                    <div class="card-header">Existing Papers</div>
                    <ul class="list-group list-group-flush" id="list-papers"></ul>
                </div>
            </div>

            <!-- Music Form -->
            <div id="music" class="form-section">
                <div class="card">
                    <div class="card-header">Add Music/Misc Item</div>
                    <div class="card-body">
                        <form id="music-form">
                            <div class="mb-3">
                                <label class="form-label">Title</label>
                                <input type="text" class="form-control" name="title" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Content/Embed Code</label>
                                <textarea class="form-control" name="content" rows="3"
                                    placeholder="HTML embed code or text description"></textarea>
                            </div>
                            <button type="submit" class="btn btn-success">Add Item</button>
                        </form>
                    </div>
                </div>
                <!-- Static now, so no list of dynamic items rendered here for edit -->
            </div>

            <!-- News Form -->
            <div id="news" class="form-section">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Manage News</span>
                        <button type="button" class="btn btn-sm btn-secondary d-none" id="btn-cancel-news">Cancel
                            Edit</button>
                    </div>
                    <div class="card-body">
                        <form id="news-form">
                            <input type="hidden" name="docId">
                            <div class="mb-3">
                                <label class="form-label">News Item / Title</label>
                                <input type="text" class="form-control" name="title" required
                                    placeholder="e.g. Paper accepted at CVPR!">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Date</label>
                                <input type="date" class="form-control" name="date" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Image/GIF Upload</label>
                                <input type="file" class="form-control" name="imageFile" accept="image/*">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">External Link</label>
                                <input type="url" class="form-control" name="link" placeholder="https://...">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Description</label>
                                <textarea class="form-control" name="description" rows="2"
                                    placeholder="Brief details..."></textarea>
                            </div>
                            <button type="submit" class="btn btn-success">Save News</button>
                        </form>
                    </div>
                </div>
                <!-- List -->
                <div class="card mt-3">
                    <div class="card-header">Existing News</div>
                    <ul class="list-group list-group-flush" id="list-news"></ul>
                </div>
            </div>

        </div>
    </div>

    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/admin.js"></script>

</body>

</html>